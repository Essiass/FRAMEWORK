(function(k){function r(b){for(var b=b.split(")"),d=[0,0],c=0,e=[1,1],f=[0,0],g=b.length-1,h=k.trim,a,i;g--;)a=b[g].split("("),i=h(a[0]),a=a[1],i=="translateX"?d[0]+=parseInt(a,10):i=="translateY"?d[1]+=parseInt(a,10):i=="translate"?(a=a.split(","),d[0]+=parseInt(a[0],10),d[1]+=parseInt(a[1]||0,10)):i=="rotate"?c+=l(a):i=="scaleX"?e[0]*=a:i=="scaleY"?e[1]*=a:i=="scale"?(a=a.split(","),e[0]*=a[0],e[1]*=a.length>1?a[1]:a[0]):i=="skewX"?f[0]+=l(a):i=="skewY"?f[1]+=l(a):i=="skew"&&(a=a.split(","),f[0]+= l(a[0]),f[1]+=l(a[1]||"0"));return{translate:d,rotate:c,scale:e,skew:f}}function l(b){return~b.indexOf("deg")?parseInt(b,10)*(Math.PI*2/360):~b.indexOf("grad")?parseInt(b,10)*(Math.PI/200):parseFloat(b)}for(var j=document.createElement("div"),j=j.style,n=["OTransform","msTransform","WebkitTransform","MozTransform","transform"],o=n.length,m,p,q,s=/Matrix([^)]*)/;o--;)n[o]in j&&(k.support.transform=m=n[o]);if(!m)k.support.matrixFilter=p=j.filter==="";j=j=null;k.cssNumber.transform=!0;k.cssHooks.transform= q={get:function(b){b=k.data(b,"transform")||{translate:[0,0],rotate:0,scale:[1,1],skew:[0,0]};b.toString=function(){return"translate("+this.translate[0]+"px,"+this.translate[1]+"px) rotate("+this.rotate+"rad) scale("+this.scale+") skew("+this.skew[0]+"rad,"+this.skew[1]+"rad)"};return b},set:function(b,d,c){typeof d==="string"&&(d=r(d));var e=d.translate,f=d.rotate,g=d.scale,h=d.skew,a=b.style,i;k.data(b,"transform",d);!h[0]&&!h[1]&&(h=0);if(m)a[m]="translate("+e[0]+"px,"+e[1]+"px) rotate("+f+"rad) scale("+ g+")"+(h?" skew("+h[0]+"rad,"+h[1]+"rad)":"");else if(p){if(!c)a.zoom=1;var j=Math.cos(f),c=Math.sin(f),f=j*g[0],d=-c*g[1];c*=g[0];g=j*g[1];h&&(j=Math.tan(h[0]),h=Math.tan(h[1]),f+=d*h,d+=f*j,c+=g*h,g+=c*j);g=["Matrix(M11="+f,"M12="+d,"M21="+c,"M22="+g,"SizingMethod='auto expand'"].join();h=(i=b.currentStyle)&&i.filter||a.filter||"";a.filter=s.test(h)?h.replace(s,g):h+" progid:DXImageTransform.Microsoft."+g+")";if(centerOrigin=k.transform.centerOrigin)a[centerOrigin=="margin"?"marginLeft":"left"]= -(b.offsetWidth/2)+b.clientWidth/2+"px",a[centerOrigin=="margin"?"marginTop":"top"]=-(b.offsetHeight/2)+b.clientHeight/2+"px";a.left=e[0]+"px";a.top=e[1]+"px"}}};k.fx.step.transform=function(b){var d=b.elem,c=b.start,e=b.end,f=b.pos,g={};if(!c||typeof e==="string"){c||(c=q.get(d));if(p)d.style.zoom=1;b.end=e=r(e)}g.translate=[c.translate[0]+(e.translate[0]-c.translate[0])*f+0.5|0,c.translate[1]+(e.translate[1]-c.translate[1])*f+0.5|0];g.rotate=c.rotate+(e.rotate-c.rotate)*f;g.scale=[c.scale[0]+(e.scale[0]- c.scale[0])*f,c.scale[1]+(e.scale[1]-c.scale[1])*f];g.skew=[c.skew[0]+(e.skew[0]-c.skew[0])*f,c.skew[1]+(e.skew[1]-c.skew[1])*f];q.set(d,g,!0)};k.transform={centerOrigin:"margin",radToDeg:function(b){return b*180/Math.PI}}})(jQuery);